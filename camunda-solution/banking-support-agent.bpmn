<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_04o12p6" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.39.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0">
  <bpmn:process id="banking-support-agent" isExecutable="true">
    <bpmn:adHocSubProcess id="AI_CustomerSupportAgent" name="Customer Support Agent" zeebe:modelerTemplate="io.camunda.connectors.agenticai.aiagent.jobworker.v1" zeebe:modelerTemplateVersion="3" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiIGZpbGw9IiNBNTZFRkYiLz4KPG1hc2sgaWQ9InBhdGgtMi1vdXRzaWRlLTFfMTg1XzYiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjQiIHk9IjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iYmxhY2siPgo8cmVjdCBmaWxsPSJ3aGl0ZSIgeD0iNCIgeT0iNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuMDEwNSAxMi4wOTg3QzE4LjQ5IDEwLjU4OTQgMTcuMTU5NCA4LjEwODE0IDE2LjE3OTkgNi4wMTEwM0MxNi4xNTIgNi4wMDQ1MSAxNi4xMTc2IDYgMTYuMDc5NCA2QzE2LjA0MTEgNiAxNi4wMDY2IDYuMDA0NTEgMTUuOTc4OCA2LjAxMTA0QzE0Ljk5OTQgOC4xMDgxNCAxMy42Njk3IDEwLjU4ODkgMTIuMTQ4MSAxMi4wOTgxQzEwLjYyNjkgMTMuNjA3MSA4LjEyNTY4IDE0LjkyNjQgNi4wMTE1NyAxNS44OTgxQzYuMDA0NzQgMTUuOTI2MSA2IDE1Ljk2MTEgNiAxNkM2IDE2LjAzODcgNi4wMDQ2OCAxNi4wNzM2IDYuMDExNDQgMTYuMTAxNEM4LjEyNTE5IDE3LjA3MjkgMTAuNjI2MiAxOC4zOTE5IDEyLjE0NzcgMTkuOTAxNkMxMy42Njk3IDIxLjQxMDcgMTQuOTk5NiAyMy44OTIgMTUuOTc5MSAyNS45ODlDMTYuMDA2OCAyNS45OTU2IDE2LjA0MTEgMjYgMTYuMDc5MyAyNkMxNi4xMTc1IDI2IDE2LjE1MTkgMjUuOTk1NCAxNi4xNzk2IDI1Ljk4OUMxNy4xNTkxIDIzLjg5MiAxOC40ODg4IDIxLjQxMSAyMC4wMDk5IDE5LjkwMjFNMjAuMDA5OSAxOS45MDIxQzIxLjUyNTMgMTguMzk4NyAyMy45NDY1IDE3LjA2NjkgMjUuOTkxNSAxNi4wODI0QzI1Ljk5NjUgMTYuMDU5MyAyNiAxNi4wMzEgMjYgMTUuOTk5N0MyNiAxNS45Njg0IDI1Ljk5NjUgMTUuOTQwMyAyNS45OTE1IDE1LjkxNzFDMjMuOTQ3NCAxNC45MzI3IDIxLjUyNTkgMTMuNjAxIDIwLjAxMDUgMTIuMDk4NyIvPgo8L21hc2s+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuMDEwNSAxMi4wOTg3QzE4LjQ5IDEwLjU4OTQgMTcuMTU5NCA4LjEwODE0IDE2LjE3OTkgNi4wMTEwM0MxNi4xNTIgNi4wMDQ1MSAxNi4xMTc2IDYgMTYuMDc5NCA2QzE2LjA0MTEgNiAxNi4wMDY2IDYuMDA0NTEgMTUuOTc4OCA2LjAxMTA0QzE0Ljk5OTQgOC4xMDgxNCAxMy42Njk3IDEwLjU4ODkgMTIuMTQ4MSAxMi4wOTgxQzEwLjYyNjkgMTMuNjA3MSA4LjEyNTY4IDE0LjkyNjQgNi4wMTE1NyAxNS44OTgxQzYuMDA0NzQgMTUuOTI2MSA2IDE1Ljk2MTEgNiAxNkM2IDE2LjAzODcgNi4wMDQ2OCAxNi4wNzM2IDYuMDExNDQgMTYuMTAxNEM4LjEyNTE5IDE3LjA3MjkgMTAuNjI2MiAxOC4zOTE5IDEyLjE0NzcgMTkuOTAxNkMxMy42Njk3IDIxLjQxMDcgMTQuOTk5NiAyMy44OTIgMTUuOTc5MSAyNS45ODlDMTYuMDA2OCAyNS45OTU2IDE2LjA0MTEgMjYgMTYuMDc5MyAyNkMxNi4xMTc1IDI2IDE2LjE1MTkgMjUuOTk1NCAxNi4xNzk2IDI1Ljk4OUMxNy4xNTkxIDIzLjg5MiAxOC40ODg4IDIxLjQxMSAyMC4wMDk5IDE5LjkwMjFNMjAuMDA5OSAxOS45MDIxQzIxLjUyNTMgMTguMzk4NyAyMy45NDY1IDE3LjA2NjkgMjUuOTkxNSAxNi4wODI0QzI1Ljk5NjUgMTYuMDU5MyAyNiAxNi4wMzEgMjYgMTUuOTk5N0MyNiAxNS45Njg0IDI1Ljk5NjUgMTUuOTQwMyAyNS45OTE1IDE1LjkxNzFDMjMuOTQ3NCAxNC45MzI3IDIxLjUyNTkgMTMuNjAxIDIwLjAxMDUgMTIuMDk4NyIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC4wMTA1IDEyLjA5ODdDMTguNDkgMTAuNTg5NCAxNy4xNTk0IDguMTA4MTQgMTYuMTc5OSA2LjAxMTAzQzE2LjE1MiA2LjAwNDUxIDE2LjExNzYgNiAxNi4wNzk0IDZDMTYuMDQxMSA2IDE2LjAwNjYgNi4wMDQ1MSAxNS45Nzg4IDYuMDExMDRDMTQuOTk5NCA4LjEwODE0IDEzLjY2OTcgMTAuNTg4OSAxMi4xNDgxIDEyLjA5ODFDMTAuNjI2OSAxMy42MDcxIDguMTI1NjggMTQuOTI2NCA2LjAxMTU3IDE1Ljg5ODFDNi4wMDQ3NCAxNS45MjYxIDYgMTUuOTYxMSA2IDE2QzYgMTYuMDM4NyA2LjAwNDY4IDE2LjA3MzYgNi4wMTE0NCAxNi4xMDE0QzguMTI1MTkgMTcuMDcyOSAxMC42MjYyIDE4LjM5MTkgMTIuMTQ3NyAxOS45MDE2QzEzLjY2OTcgMjEuNDEwNyAxNC45OTk2IDIzLjg5MiAxNS45NzkxIDI1Ljk4OUMxNi4wMDY4IDI1Ljk5NTYgMTYuMDQxMSAyNiAxNi4wNzkzIDI2QzE2LjExNzUgMjYgMTYuMTUxOSAyNS45OTU0IDE2LjE3OTYgMjUuOTg5QzE3LjE1OTEgMjMuODkyIDE4LjQ4ODggMjEuNDExIDIwLjAwOTkgMTkuOTAyMU0yMC4wMDk5IDE5LjkwMjFDMjEuNTI1MyAxOC4zOTg3IDIzLjk0NjUgMTcuMDY2OSAyNS45OTE1IDE2LjA4MjRDMjUuOTk2NSAxNi4wNTkzIDI2IDE2LjAzMSAyNiAxNS45OTk3QzI2IDE1Ljk2ODQgMjUuOTk2NSAxNS45NDAzIDI1Ljk5MTUgMTUuOTE3MUMyMy45NDc0IDE0LjkzMjcgMjEuNTI1OSAxMy42MDEgMjAuMDEwNSAxMi4wOTg3IiBzdHJva2U9IiM0OTFEOEIiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgbWFzaz0idXJsKCNwYXRoLTItb3V0c2lkZS0xXzE4NV82KSIvPgo8L3N2Zz4K">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda.agenticai:aiagent-job-worker:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input target="toolCallResults" />
          <zeebe:input source="openai" target="provider.type" />
          <zeebe:input source="{{secrets.OPEN_API_KEY}}" target="provider.openai.authentication.apiKey" />
          <zeebe:input source="{{secrets.OPEN_API_ORG}}" target="provider.openai.authentication.organizationId" />
          <zeebe:input source="{{secrets.OPEN_API_PROJ}}" target="provider.openai.authentication.projectId" />
          <zeebe:input source="gpt-4o" target="provider.openai.model.model" />
          <zeebe:input source="=&#34;You are the routing agent for Camunda Bank’s shared inbox (info@democompany.com). Your job: read each inbound email, split into sub-inquiries if needed, and invoke the correct tool(s). &#10;When finished invoke Tool_InformCustomer to send the case resolution information to the customer - but only if that make sense in this context (not if the case got aborted).&#10;&#10;CRITICAL OUTPUT RULES&#10;- When you choose a tool, you MUST invoke it via the model’s tool/function calling interface.&#10;- Do NOT print JSON for tool calls in the message content. Do NOT wrap outputs in code fences.&#10;- Keep the assistant text brief; prefer calling tools. Only write text when no tool fits or after tools have run.&#10;&#10;TOOL SELECTION&#10;- Inspect the available tools for every sub-inquiry.&#10;- Choose the best tool; call multiple tools if needed.&#10;- If none fit, call UserTask_HandleOtherInquiries.&#10;- If even that cannot resolve it, reply with: ERROR: Unable to resolve (reason).&#10;&#10;PARAMETERS&#10;- Always pass:&#10;  - userInquiry: the minimal excerpt relevant to that sub-inquiry.&#10;  - currentEmail: the full original email content.&#10;&#10;PRIVACY&#10;- Treat the sender as a customer. Never invent PII.&#10;- Only reveal PII if authenticated and the tool allows it.&#10;&#10;STYLE&#10;- No chain-of-thought, no XML tags, no internal notes in content.&#10;- Your content should be either:&#10;  - a short confirmation, or&#10;  - the final answer when no tool is needed.&#34;" target="data.systemPrompt.prompt" />
          <zeebe:input source="=supportCase.request" target="data.userPrompt.prompt" />
          <zeebe:input source="=agent.context" target="agentContext" />
          <zeebe:input source="camunda-document" target="data.memory.storage.type" />
          <zeebe:input source="=20" target="data.memory.contextWindowSize" />
          <zeebe:input source="=10" target="data.limits.maxModelCalls" />
          <zeebe:input source="WAIT_FOR_TOOL_CALL_RESULTS" target="data.events.behavior" />
          <zeebe:input source="json" target="data.response.format.type" />
          <zeebe:input source="Response" target="data.response.format.schemaName" />
          <zeebe:input source="=false" target="data.response.includeAssistantMessage" />
          <zeebe:input source="=false" target="data.response.includeAgentContext" />
          <zeebe:output source="=agent" target="agentResult" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="elementTemplateVersion" value="3" />
          <zeebe:header key="elementTemplateId" value="io.camunda.connectors.agenticai.aiagent.jobworker.v1" />
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
        <zeebe:adHoc outputCollection="toolCallResults" outputElement="={&#10;  id: toolCall._meta.id,&#10;  name: toolCall._meta.name,&#10;  content: toolCallResult&#10;}" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0fv4284</bpmn:incoming>
      <bpmn:incoming>Flow_09odqrt</bpmn:incoming>
      <bpmn:outgoing>Flow_1nojswc</bpmn:outgoing>
      <bpmn:callActivity id="CallActivity_AccountSupportAgent" name="Account Support Agent">
        <bpmn:documentation>Handle all account related inquiries</bpmn:documentation>
        <bpmn:extensionElements>
          <zeebe:calledElement processId="account-support-agent" propagateAllChildVariables="false" propagateAllParentVariables="false" />
          <zeebe:ioMapping>
            <zeebe:input source="=put(supportCase, &#34;request&#34;, fromAi(toolCall.userInquiry, &#34;The relevant user request as extracted from the email for this agent using the original customer wording&#34;))" target="supportCase" />
            <zeebe:output source="=response" target="toolCallResult" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
      </bpmn:callActivity>
      <bpmn:callActivity id="CallActivity_LoanSupportAgent" name="Loan Support Agent">
        <bpmn:extensionElements>
          <zeebe:calledElement processId="loan-support-agent" propagateAllChildVariables="false" propagateAllParentVariables="false" />
          <zeebe:ioMapping>
            <zeebe:input source="=put(supportCase, &#34;request&#34;, fromAi(toolCall.userInquiry, &#34;The relevant user request as extracted from the email for this agent using the original customer wording&#34;))" target="supportCase" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
      </bpmn:callActivity>
      <bpmn:userTask id="UserTask_HandleLegalQuestions" name="Handle legal questions">
        <bpmn:extensionElements>
          <zeebe:userTask />
          <zeebe:formDefinition formId="Form_HumanHandling" />
          <zeebe:ioMapping>
            <zeebe:input source="=fromAi(toolCall.requestToHuman, &#34;Describe what the specialist needs to do for the customer. Summarize in your own words - ideally easy to get bullet points, but attach the original customer request below for reference&#34;, &#34;string&#34;)" target="requestDetails" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
      </bpmn:userTask>
      <bpmn:userTask id="UserTask_HandleOtherInquiries" name="Handle other inquiries">
        <bpmn:extensionElements>
          <zeebe:userTask />
          <zeebe:formDefinition formId="Form_HumanHandling" />
        </bpmn:extensionElements>
      </bpmn:userTask>
      <bpmn:serviceTask id="Tool_A2A_CreditCardAgent" name="Card Support Agent&#10;(A2A Client)" zeebe:modelerTemplate="dev.example.a2a.connector.outbound" zeebe:modelerTemplateVersion="1" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTIwMHB0IiBoZWlnaHQ9IjEyMDBwdCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTIwMCAxMjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPHBhdGggZD0ibTEwMjAgMzExLjQ4Yy03Mi41MTYgMC0xMzEuNDgtNTkuMDE2LTEzMS40OC0xMzEuNDggMC0xMy41LTExLjAxNi0yNC45ODQtMjQuOTg0LTI0Ljk4NC0xMy41IDAtMjQuOTg0IDExLjQ4NC0yNC45ODQgMjQuOTg0IDAgOC40ODQ0LTAuOTg0MzggMTcuMDE2LTIuNDg0NCAyNC45ODQtMC41MTU2MiAzLjk4NDQtMS41IDguMDE1Ni0zIDEyLTAuOTg0MzggMy45ODQ0LTIuNDg0NCA4LjAxNTYtMy45ODQ0IDExLjQ4NC02IDE1Ljk4NC0xNS41MTYgMzAuNTE2LTI3IDQyLjUxNi0xMi41MTYgMTMuNS0yNy45ODQgMjQtNDUuNTE2IDMwLjk4NC0zIDEuNS02LjUxNTYgMi40ODQ0LTkuOTg0NCAzLjUxNTYtMS41IDAuNTE1NjItMyAwLjk4NDM4LTQuNSAxLjUtNi41MTU2IDIuMDE1Ni0xMy41IDMtMjEgMy45ODQ0LTQuNSAwLjUxNTYyLTkgMC41MTU2Mi0xMy41IDAuNTE1NjItMTQuMDE2IDAtMjQuOTg0IDExLjAxNi0yNC45ODQgMjQuOTg0IDAgMTMuNSAxMS4wMTYgMjQuOTg0IDI0Ljk4NCAyNC45ODQgNzIuNTE2IDAgMTMxLjAyIDU4LjUgMTMxLjAyIDEzMS4wMiAwIDE0LjAxNiAxMS40ODQgMjQuOTg0IDI0Ljk4NCAyNC45ODQgMTQuMDE2IDAgMjQuOTg0LTExLjAxNiAyNC45ODQtMjQuOTg0IDAtNC41IDAtOSAwLjUxNTYyLTEzLjUgMC45ODQzOC03LjUgMi4wMTU2LTE0LjQ4NCAzLjk4NDQtMjEgMC41MTU2Mi0xLjUgMC45ODQzOC0zIDEuNS00LjUgMC45ODQzOC0zLjUxNTYgMi4wMTU2LTYuOTg0NCAzLjk4NDQtOS45ODQ0IDYuNTE1Ni0xNy40ODQgMTcuMDE2LTMzIDMwLjUxNi00NS41MTYgMTItMTEuNDg0IDI2LjQ4NC0yMSA0Mi41MTYtMjcgMy41MTU2LTEuNSA3LjUtMyAxMS40ODQtMy45ODQ0IDMuOTg0NC0xLjUgOC4wMTU2LTIuNDg0NCAxMi0zIDguMDE1Ni0xLjUgMTYuNS0yLjQ4NDQgMjQuOTg0LTIuNDg0NCAxMy41IDAgMjQuOTg0LTExLjQ4NCAyNC45ODQtMjQuOTg0LTAuMDQ2ODc1LTE0LjAxNi0xMS41MzEtMjUuMDMxLTI1LjAzMS0yNS4wMzF6IiBmaWxsPSIjNGMyNWUwIi8+CiA8cGF0aCBkPSJtOTU0IDQ0NS41Yy05Ljk4NDQgMTMuNS0xNS41MTYgMjkuNDg0LTE1LjUxNiA0Ny4wMTYgMCA0MS40ODQtMzMuNTE2IDc1LTc1IDc1LTQxLjAxNiAwLTc1LTMzLjUxNi03NS03NSAwLTQ0LjQ4NC0zNi41MTYtODEtODEtODEtNDEuNDg0IDAtNzUtMzMuOTg0LTc1LTc1IDAtNDEuNDg0IDMzLjUxNi03NSA3NS03NSAxNy40ODQgMCAzMy41MTYtNS40ODQ0IDQ3LjAxNi0xNS41MTYgMTQuMDE2LTkuOTg0NCAyNC45ODQtMjQuNTE2IDMwLTQxLjQ4NC01Ni4wMTYtMjYuNTMxLTExOC41LTQxLjAxNi0xODQuNS00MS4wMTYtMjQwLjUyIDAtNDM2LjUgMTk1Ljk4LTQzNi41IDQzNi41czE5NS45OCA0MzYuNSA0MzYuNSA0MzYuNSA0MzYuNS0xOTUuOTggNDM2LjUtNDM2LjVjMC02Ni0xNC40ODQtMTI4LjQ4LTQxLjAxNi0xODQuNS0xNi45NjkgNS4wMTU2LTMxLjUgMTUuOTg0LTQxLjQ4NCAzMHptLTExNy45OCAxMzMuNWMxNC4wMTYgMCAyNC45ODQgMTEuNDg0IDI0Ljk4NCAyNC45ODQgMCAxNC4wMTYtMTEuMDE2IDI0Ljk4NC0yNC45ODQgMjQuOTg0LTExOC41IDAtMjE1LjAyIDk2LjUxNi0yMTUuMDIgMjE1LjQ4IDAgMTMuNS0xMS40ODQgMjQuOTg0LTI0Ljk4NCAyNC45ODQtMTQuMDE2IDAtMjQuOTg0LTExLjQ4NC0yNC45ODQtMjQuOTg0IDAtMTE5LjAyLTk2LjUxNi0yMTUuNDgtMjE1LjQ4LTIxNS40OC0xMy41IDAtMjQuOTg0LTExLjAxNi0yNC45ODQtMjQuOTg0IDAtMTMuNSAxMS40ODQtMjQuOTg0IDI0Ljk4NC0yNC45ODQgMTE5LjAyIDAgMjE1LjQ4LTk2LjUxNiAyMTUuNDgtMjE1LjAyIDAtMTQuMDE2IDExLjAxNi0yNC45ODQgMjQuOTg0LTI0Ljk4NCAxMy41IDAgMjQuOTg0IDExLjAxNiAyNC45ODQgMjQuOTg0IDAgMTE4LjUgOTYuNTE2IDIxNS4wMiAyMTUuMDIgMjE1LjAyeiIgZmlsbD0iIzRjMjVlMCIvPgogPHBhdGggZD0ibTQ2OCA2MDMuOThjNTYuMDE2IDI2LjQ4NCAxMDEuNDggNzIgMTI4LjAyIDEyOC4wMiAyNi4wMTYtNTYuMDE2IDcxLjQ4NC0xMDEuNDggMTI3LjUtMTI4LjAyLTU2LjAxNi0yNi4wMTYtMTAxLjQ4LTcxLjQ4NC0xMjcuNS0xMjcuNS0yNi41MzEgNTYuMDE2LTcyIDEwMS41My0xMjguMDIgMTI3LjV6IiBmaWxsPSIjNGMyNWUwIi8+Cjwvc3ZnPgo=">
        <bpmn:documentation>Handle card related inquiries (e.g. to report a stolen card or to freeze a card)</bpmn:documentation>
        <bpmn:extensionElements>
          <zeebe:taskDefinition type="dev.example:a2a:1" />
          <zeebe:ioMapping>
            <zeebe:input source="https://demo-credit-card-support-a2a-56019549721.europe-west1.run.app/a2a/" target="baseUrl" />
            <zeebe:input source="A2A" target="mode" />
            <zeebe:input target="inputText" />
            <zeebe:input target="intent" />
            <zeebe:input target="parameters" />
            <zeebe:input target="headers" />
            <zeebe:input source="= {&#10;  &#34;jsonrpc&#34;: &#34;2.0&#34;,&#10;  &#34;id&#34;: &#34;475478&#34;,&#10;  &#34;method&#34;: &#34;message/send&#34;,&#10;  &#34;params&#34;: {&#10;    &#34;message&#34;: {&#10;      &#34;messageId&#34;: &#34;m-123&#34;,&#10;      &#34;role&#34;: &#34;user&#34;,&#10;      &#34;parts&#34;: [&#10;        { &#34;text&#34;: fromAi(toolCall.creditCardAgentIstructions, &#34;The instructions/prompt for the card agent&#34;) }&#10;      ]&#10;    }&#10;  }&#10;}" target="a2aPayload" />
          </zeebe:ioMapping>
          <zeebe:taskHeaders>
            <zeebe:header key="resultVariable" value="toolCallResult" />
          </zeebe:taskHeaders>
        </bpmn:extensionElements>
      </bpmn:serviceTask>
      <bpmn:callActivity id="Tool_AskCustomer" name="Ask customer">
        <bpmn:extensionElements>
          <zeebe:calledElement processId="customer-communication-question" propagateAllChildVariables="false" propagateAllParentVariables="false" />
          <zeebe:ioMapping>
            <zeebe:input source="=supportCase.communicationContext" target="communicationContext" />
            <zeebe:input source="={&#10;  &#34;subject&#34;: &#34;RE: &#34; + supportCase.subject,&#10;  &#34;text&#34;: fromAi(toolCall.response, &#34;The text response to reply to the customer&#34;)&#10;}" target="communicationContent" />
            <zeebe:output source="=communicationResult" target="toolCallResult" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
      </bpmn:callActivity>
      <bpmn:callActivity id="Tool_InformCustomer" name="Inform&#10;customer">
        <bpmn:extensionElements>
          <zeebe:calledElement processId="customer-communication-information" propagateAllChildVariables="false" propagateAllParentVariables="false" />
          <zeebe:ioMapping>
            <zeebe:input source="=supportCase.communicationContext" target="communicationContext" />
            <zeebe:input source="={&#10;  &#34;subject&#34;: &#34;RE: &#34; + supportCase.subject,&#10;  &#34;text&#34;: fromAi(toolCall.response, &#34;The text information for the customer, probably the case resolution&#34;)&#10;}" target="communicationContent" />
            <zeebe:output source="=communicationResult" target="toolCallResult" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
      </bpmn:callActivity>
    </bpmn:adHocSubProcess>
    <bpmn:sequenceFlow id="Flow_1nojswc" sourceRef="AI_CustomerSupportAgent" targetRef="Activity_1mu0kb7" />
    <bpmn:exclusiveGateway id="Gateway_1sbtuh2" name="Review (exemplary samples)?">
      <bpmn:incoming>Flow_0xnx5gq</bpmn:incoming>
      <bpmn:outgoing>Flow_0g2kbqn</bpmn:outgoing>
      <bpmn:outgoing>Flow_19tm0v8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0xnx5gq" sourceRef="Activity_1mu0kb7" targetRef="Gateway_1sbtuh2" />
    <bpmn:sequenceFlow id="Flow_0g2kbqn" name="yes (1%)" sourceRef="Gateway_1sbtuh2" targetRef="Activity_04lvuy1">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_13awtny">
      <bpmn:incoming>Flow_19tm0v8</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_19tm0v8" name="no (99%)" sourceRef="Gateway_1sbtuh2" targetRef="Event_13awtny">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_1sx7tol">
      <bpmn:incoming>Flow_1w8zj7s</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1w8zj7s" sourceRef="Activity_04lvuy1" targetRef="Event_1sx7tol" />
    <bpmn:userTask id="Activity_04lvuy1" name="Review support resolution">
      <bpmn:extensionElements>
        <zeebe:userTask />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0g2kbqn</bpmn:incoming>
      <bpmn:outgoing>Flow_1w8zj7s</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:startEvent id="StartEvent_Email" name="Customer email received" zeebe:modelerTemplate="io.camunda.connectors.inbound.EmailMessageStart.v1" zeebe:modelerTemplateVersion="2" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzkwXzI0MjApIj4KPHBhdGggZD0iTTguMzM4MzUgOS45NTM2NUwxMC4zODk0IDEyLjAxMDRMOC4zMzI2MiAxNC4wNjcyTDkuMTQ2MTYgMTQuODc1TDEyLjAxMDcgMTIuMDEwNEw5LjE0NjE2IDkuMTQ1ODNMOC4zMzgzNSA5Ljk1MzY1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEyLjM0ODggOS45NTM2NUwxNC4zOTk4IDEyLjAxMDRMMTIuMzQzIDE0LjA2NzJMMTMuMTU2NiAxNC44NzVMMTYuMDIxMiAxMi4wMTA0TDEzLjE1NjYgOS4xNDU4M0wxMi4zNDg4IDkuOTUzNjVaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMy45NzIgMTEuNDM3NUgxLjEyNTMzVjIuNzkyMTlMNy42NzM3NiA3LjMyMzk2QzcuNzY5NjcgNy4zOTA0OSA3Ljg4MzYgNy40MjYxNCA4LjAwMDMyIDcuNDI2MTRDOC4xMTcwNSA3LjQyNjE0IDguMjMwOTggNy4zOTA0OSA4LjMyNjg5IDcuMzIzOTZMMTQuODc1MyAyLjc5MjE5VjhIMTYuMDIxMlYyLjI3MDgzQzE2LjAyMTIgMS45NjY5NCAxNS45MDA0IDEuNjc1NDkgMTUuNjg1NiAxLjQ2MDYxQzE1LjQ3MDcgMS4yNDU3MiAxNS4xNzkyIDEuMTI1IDE0Ljg3NTMgMS4xMjVIMS4xMjUzM0MwLjgyMTQzMiAxLjEyNSAwLjUyOTk4NCAxLjI0NTcyIDAuMzE1MDk5IDEuNDYwNjFDMC4xMDAyMTQgMS42NzU0OSAtMC4wMjA1MDc4IDEuOTY2OTQgLTAuMDIwNTA3OCAyLjI3MDgzVjExLjQzNzVDLTAuMDIwNTA3OCAxMS43NDE0IDAuMTAwMjE0IDEyLjAzMjggMC4zMTUwOTkgMTIuMjQ3N0MwLjUyOTk4NCAxMi40NjI2IDAuODIxNDMyIDEyLjU4MzMgMS4xMjUzMyAxMi41ODMzSDMuOTcyVjExLjQzNzVaTTEzLjYxNDkgMi4yNzA4M0w4LjAwMDMyIDYuMTU1MjFMMi4zODU3NCAyLjI3MDgzSDEzLjYxNDlaIiBmaWxsPSIjRkM1RDBEIi8+CjxwYXRoIGQ9Ik00LjI4MjEgOS45NTM2NUw2LjMzMzE0IDEyLjAxMDRMNC4yNzYzNyAxNC4wNjcyTDUuMDg5OTEgMTQuODc1TDcuOTU0NDkgMTIuMDEwNEw1LjA4OTkxIDkuMTQ1ODNMNC4yODIxIDkuOTUzNjVaIiBmaWxsPSJibGFjayIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzkwXzI0MjAiPgo8cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==">
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="inbound.type" value="io.camunda:connector-email-inbound:1" />
          <zeebe:property name="authentication.type" value="simple" />
          <zeebe:property name="authentication.username" value="{{secrets.GMAIL_INBOX_USER}}" />
          <zeebe:property name="authentication.password" value="{{secrets.GMAIL_INBOX_PASSWORD}}" />
          <zeebe:property name="data.imapConfig.imapHost" value="imap.gmail.com" />
          <zeebe:property name="data.imapConfig.imapPort" value="993" />
          <zeebe:property name="data.imapConfig.imapCryptographicProtocol" value="TLS" />
          <zeebe:property name="data.pollingWaitTime" value="PT10S" />
          <zeebe:property name="data.pollingConfigDiscriminator" value="unseenPollingConfig" />
          <zeebe:property name="data.pollingConfig.handlingStrategy" value="READ" />
          <zeebe:property name="activationCondition" value="=is empty(headers[key = &#34;In-Reply-To&#34;])" />
          <zeebe:property name="consumeUnmatchedEvents" value="false" />
          <zeebe:property name="correlationRequired" value="notRequired" />
          <zeebe:property name="deduplicationModeManualFlag" value="false" />
          <zeebe:property name="deduplicationMode" value="AUTO" />
          <zeebe:property name="resultVariable" value="currentEmail" />
          <zeebe:property name="resultExpression" />
        </zeebe:properties>
        <zeebe:ioMapping>
          <zeebe:output source="=&#34;email&#34;" target="communicationChannel" />
          <zeebe:output source="=currentEmail" target="currentEmail" />
          <zeebe:output source="=currentEmail.plainTextBody" target="customerRequest" />
          <zeebe:output source="={&#10;    &#34;subject&#34;: currentEmail.subject,&#10;    &#34;request&#34;: currentEmail.plainTextBody,&#10;    &#34;communicationContext&#34;: {&#10;        &#34;channel&#34; : &#34;email&#34;,&#10;        &#34;emailAddress&#34;: currentEmail.fromAddress,&#10;        &#34;conversationId&#34;: currentEmail.messageId&#10;    }&#10;}" target="supportCase" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_17hp3tr</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1ygmb0p" messageRef="Message_16m9y1n" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_17hp3tr" sourceRef="StartEvent_Email" targetRef="Gateway_0b8kgrt" />
    <bpmn:serviceTask id="Activity_1mu0kb7" name="Send customer information and survey">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="noop" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1nojswc</bpmn:incoming>
      <bpmn:outgoing>Flow_0xnx5gq</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:startEvent id="StartEvent_Blank" name="Customer support request received (other channels)">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="={&#10;    &#34;subject&#34;: &#34;Help&#34;,&#10;    &#34;request&#34;: &#34;I need to get my bank details to receive money internationally. My customer id = ACC123456789&#34;,&#10;    &#34;originalMessageInFull&#34;: &#34;&#34;,&#10;    &#34;communicationContext&#34;: {&#10;        &#34;channel&#34; : &#34;email&#34;,&#10;        &#34;channelId&#34;: &#34;&#60;UUID of the channel&#62;&#34;,&#10;        &#34;emailAddress&#34;: &#34;bernd.it.depends.ruecker@gmail.com&#34;,&#10;        &#34;conversationId&#34;: null&#10;    }&#10;}" target="supportCase" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_04dj9kf</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_04dj9kf" sourceRef="StartEvent_Blank" targetRef="Gateway_0b8kgrt" />
    <bpmn:sequenceFlow id="Flow_1i0kcwv" sourceRef="StartEvent_Chat" targetRef="Gateway_0b8kgrt" />
    <bpmn:startEvent id="Event_0nn09te" name="Customer phoned in">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="={&#10;    &#34;subject&#34;: &#34;Chat Request&#34;,&#10;    &#34;request&#34;: customerRequest,&#10;    &#34;originalMessageInFull&#34;: customerRequest,&#10;    &#34;communicationContext&#34;: {&#10;        &#34;channel&#34; : &#34;voice&#34;,&#10;        &#34;emailAddress&#34;: &#34;bernd.it.depends.ruecker@gmail.com&#34;,&#10;        &#34;conversationId&#34;: conversationId&#10;    }&#10;}" target="supportCase" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_18e2jyj</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1p5ydf6" messageRef="Message_3hatd6n" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_18e2jyj" sourceRef="Event_0nn09te" targetRef="Gateway_0b8kgrt" />
    <bpmn:exclusiveGateway id="Gateway_0b8kgrt">
      <bpmn:incoming>Flow_17hp3tr</bpmn:incoming>
      <bpmn:incoming>Flow_1i0kcwv</bpmn:incoming>
      <bpmn:incoming>Flow_18e2jyj</bpmn:incoming>
      <bpmn:incoming>Flow_04dj9kf</bpmn:incoming>
      <bpmn:outgoing>Flow_1mprn5y</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1mprn5y" sourceRef="Gateway_0b8kgrt" targetRef="Gateway_0mwer7n" />
    <bpmn:serviceTask id="Task_LoadCustomerMasterData" name="Load customer" zeebe:modelerTemplate="io.camunda.connectors.Jdbc.v1" zeebe:modelerTemplateVersion="1" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTMiIGhlaWdodD0iNTEyIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNTEzIDUxMiI+CiAgPGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj4KICAgIDxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik00MjIuMDY5IDQxNi45OTVWMjUzLjA0NGgtMjQuNzU2VjQ0NC4zMmg5OS4wMjR2LTI3LjMyNWgtNzQuMjY4Wm0tNzQuMjY4LTE2My45NTFoLTQ5LjUxMmMtNi41NjUgMC0xMi44NjIgMi44NzktMTcuNTA1IDguMDA0LTQuNjQzIDUuMTI0LTcuMjUxIDEyLjA3NC03LjI1MSAxOS4zMjJ2MTM2LjYyNWMwIDcuMjQ3IDIuNjA4IDE0LjE5NyA3LjI1MSAxOS4zMjEgNC42NDMgNS4xMjUgMTAuOTQgOC4wMDQgMTcuNTA1IDguMDA0aDEyLjM3OHYyNy4zMjVjMCA3LjI0NyAyLjYwOCAxNC4xOTcgNy4yNTEgMTkuMzIxIDQuNjQzIDUuMTI1IDEwLjk0IDguMDA0IDE3LjUwNSA4LjAwNGgyNC43NTZ2LTI3LjMyNWgtMjQuNzU2VjQ0NC4zMmgxMi4zNzhjNi41NjYgMCAxMi44NjMtMi44NzkgMTcuNTA1LTguMDA0IDQuNjQzLTUuMTI0IDcuMjUxLTEyLjA3NCA3LjI1MS0xOS4zMjFWMjgwLjM3YzAtNy4yNDgtMi42MDgtMTQuMTk4LTcuMjUxLTE5LjMyMi00LjY0Mi01LjEyNS0xMC45MzktOC4wMDQtMTcuNTA1LTguMDA0Wm0tNDkuNTEyIDE2My45NTFWMjgwLjM3aDQ5LjUxMnYxMzYuNjI1aC00OS41MTJabS03NC4yNjggMjcuMzI1aC03NC4yNjh2LTI3LjMyNWg3NC4yNjh2LTU0LjY1aC00OS41MTJjLTYuNTY2IDAtMTIuODYyLTIuODc5LTE3LjUwNS04LjAwNC00LjY0My01LjEyNC03LjI1MS0xMi4wNzQtNy4yNTEtMTkuMzIxdi01NC42NWMwLTcuMjQ4IDIuNjA4LTE0LjE5OCA3LjI1MS0xOS4zMjIgNC42NDMtNS4xMjUgMTAuOTM5LTguMDA0IDE3LjUwNS04LjAwNGg3NC4yNjh2MjcuMzI2aC03NC4yNjh2NTQuNjVoNDkuNTEyYzYuNTY2IDAgMTIuODYzIDIuODc4IDE3LjUwNSA4LjAwMyA0LjY0MyA1LjEyNCA3LjI1MSAxMi4wNzUgNy4yNTEgMTkuMzIydjU0LjY1YzAgNy4yNDctMi42MDggMTQuMTk3LTcuMjUxIDE5LjMyMS00LjY0MiA1LjEyNS0xMC45MzkgOC4wMDQtMTcuNTA1IDguMDA0WiIvPgogICAgPHBhdGggZmlsbD0iI0M2MjlDRCIgZD0iTTE2MC42OTUgMTMuMDMyYy02My4wNjYgMC0xMzAuOTQzIDE2LjQ1LTEzMC45NDMgNTIuNTU3djIzNi41MDZjMCAyMi4wNyAyNS40MDMgMzYuNzYyIDU5LjUyIDQ0Ljg3di0yNi44ODJjLTIzLjczNi02LjIxLTM1LjA2LTE1LjAxOS0zNS43MTItMTcuOTg4di00Ni45MzhjMTcuNzggOS44NDIgMTcuNzMzIDkuMTg1IDQ1LjQyNCAxMi4wMDl2LTI2LjI0N2MtNDYuMTYyLTQuOTU5LTQzLjk2NS0xMS44OTktNDUuNDI0LTE3LjY2MXYtNDYuOTM3YzI1LjMzIDE0LjAyNSA2Ny4xNjkgMjAuNjU5IDEwNy4xMzUgMjAuNjU5IDYzLjA2NiAwIDEzMC45NDMtMTYuNDUxIDEzMC45NDMtNTIuNTU3di03OC44NGMtLjAwOS0zNi4xMDctNjcuODgxLTUyLjU1LTEzMC45NDMtNTIuNTVaTTUzLjU0MiA2NS43ODdjMS44MTMtNy4yOTUgMzcuNTE0LTI2LjQ3NyAxMDcuMTUzLTI2LjQ3NyA2OS4wMTQgMCAxMDQuNjk0IDE4Ljg0MyAxMDcuMDk3IDI2LjI3OS0yLjQwMyA3LjQzNS0zOC4wODMgMjYuMjc4LTEwNy4wOTcgMjYuMjc4LTY5LjYzOSAwLTEwNS4zMzktMTkuMTgzLTEwNy4xNTMtMjYuMDhabTIxNC4yODggNzguNDdjLTEuOTEyIDcuMzItMzcuNjAxIDI2LjQ0Ni0xMDcuMTM1IDI2LjQ0Ni02OS42MzkgMC0xMDUuMzM5LTE5LjE4NC0xMDcuMTM1LTI2LjI3OVY5Ny40ODdjMjUuMzMgMTQuMDI1IDY3LjE2OSAyMC42NTkgMTA3LjEzNSAyMC42NTkgMzkuOTY2IDAgODEuODA1LTYuNjM0IDEwNy4xMzUtMjAuNjU5djQ2Ljc3WiIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iYSI+CiAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yOS43NTQgNmg0NTIuOTkxdjUwMEgyOS43NTR6Ii8+CiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KPC9zdmc+Cg==">
      <bpmn:documentation>Always query customer data</bpmn:documentation>
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:connector-jdbc:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="POSTGRESQL" target="database" />
          <zeebe:input source="uri" target="connection.authType" />
          <zeebe:input source="jdbc:postgresql://camunda-ams-25-demo-loan.c3qycg2e00y7.us-east-1.rds.amazonaws.com:5432/postgres" target="connection.uri" />
          <zeebe:input source="={&#10;  useSSL:true, &#10;  user: &#34;postgres&#34;, &#10;  password:&#34;{{secrets.POSTGRESQL_MASTER_PASSWORD}}&#34;&#10;}" target="connection.uriProperties" />
          <zeebe:input source="=true" target="data.returnResults" />
          <zeebe:input source="SELECT * FROM CUSTOMER WHERE email = :email" target="data.query" />
          <zeebe:input source="={email: supportCase.communicationContext.emailAddress}" target="data.variables" />
          <zeebe:output source="=context put(supportCase, [&#34;customer&#34;], customerData)" target="supportCase" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultExpression" value="={&#10;  customerData: response.resultSet[1]&#10;}" />
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1hmpbzz</bpmn:incoming>
      <bpmn:outgoing>Flow_0fv4284</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0fv4284" sourceRef="Task_LoadCustomerMasterData" targetRef="AI_CustomerSupportAgent" />
    <bpmn:exclusiveGateway id="Gateway_0mwer7n" name="Existing customer?">
      <bpmn:incoming>Flow_1mprn5y</bpmn:incoming>
      <bpmn:outgoing>Flow_1hmpbzz</bpmn:outgoing>
      <bpmn:outgoing>Flow_09odqrt</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1hmpbzz" name="yes" sourceRef="Gateway_0mwer7n" targetRef="Task_LoadCustomerMasterData">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_09odqrt" name="no" sourceRef="Gateway_0mwer7n" targetRef="AI_CustomerSupportAgent">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:startEvent id="StartEvent_Chat" name="Customer support chat started" zeebe:modelerTemplate="io.camunda.chat.messageStart.2afef382-db76-4151-a6a3-079b58f0205f.v1" zeebe:modelerTemplateVersion="1" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIKICAgICBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIKICAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iQ2hhdCI+CiAgPCEtLSBidWJibGUgLS0+CiAgPHJlY3QgeD0iMyIgeT0iMyIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE0IiByeD0iNCIgLz4KICA8IS0tIHRhaWwgLS0+CiAgPHBhdGggZD0iTTggMTdMNCAyMVYxNyIgLz4KICA8IS0tIGRvdHMgLS0+CiAgPGNpcmNsZSBjeD0iOCIgY3k9IjEwIiByPSIxLjIiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMCIgcj0iMS4yIiAvPgogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTAiIHI9IjEuMiIgLz4KPC9zdmc+">
      <bpmn:extensionElements />
      <bpmn:outgoing>Flow_1i0kcwv</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1tghb2x" messageRef="Message_026jxye" />
    </bpmn:startEvent>
  </bpmn:process>
  <bpmn:message id="Message_16m9y1n" name="a79db208-bf8e-49fb-ba29-3748eab2954a" zeebe:modelerTemplate="io.camunda.connectors.inbound.EmailMessageStart.v1" />
  <bpmn:message id="Message_0pug44t" name="Chat" />
  <bpmn:message id="Message_3hatd6n" name="MSG_GetVocal" />
  <bpmn:message id="Message_026jxye" name="io.camunda.chat.message.2afef382-db76-4151-a6a3-079b58f0205f" zeebe:modelerTemplate="io.camunda.chat.messageStart.2afef382-db76-4151-a6a3-079b58f0205f.v1" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="banking-support-agent">
      <bpmndi:BPMNShape id="Event_0u2k6do_di" bpmnElement="StartEvent_Chat">
        <dc:Bounds x="182" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="157" y="285" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qhv81v_di" bpmnElement="AI_CustomerSupportAgent" isExpanded="true">
        <dc:Bounds x="630" y="80" width="290" height="460" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_04qwkmr_di" bpmnElement="CallActivity_AccountSupportAgent">
        <dc:Bounds x="790" y="130" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1jcnlqd_di" bpmnElement="CallActivity_LoanSupportAgent">
        <dc:Bounds x="670" y="130" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0osei79_di" bpmnElement="UserTask_HandleLegalQuestions">
        <dc:Bounds x="670" y="230" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1xr4dk0_di" bpmnElement="UserTask_HandleOtherInquiries">
        <dc:Bounds x="670" y="330" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xdxj61_di" bpmnElement="Tool_A2A_CreditCardAgent">
        <dc:Bounds x="790" y="230" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1v0upkw_di" bpmnElement="Tool_AskCustomer">
        <dc:Bounds x="670" y="430" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0jhfldm" bpmnElement="Tool_InformCustomer">
        <dc:Bounds x="790" y="430" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1sbtuh2_di" bpmnElement="Gateway_1sbtuh2" isMarkerVisible="true">
        <dc:Bounds x="1175" y="285" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1172" y="240" width="55" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13awtny_di" bpmnElement="Event_13awtny">
        <dc:Bounds x="1302" y="292" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1sx7tol_di" bpmnElement="Event_1sx7tol">
        <dc:Bounds x="1302" y="392" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hwucx3_di" bpmnElement="Activity_04lvuy1">
        <dc:Bounds x="1150" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0bgxirs_di" bpmnElement="StartEvent_Email">
        <dc:Bounds x="182" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="161" y="205" width="78" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1vc8nnq_di" bpmnElement="Activity_1mu0kb7">
        <dc:Bounds x="1010" y="270" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1q6r91a_di" bpmnElement="StartEvent_Blank">
        <dc:Bounds x="182" y="442" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="157" y="485" width="88" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0xy24su_di" bpmnElement="Event_0nn09te">
        <dc:Bounds x="182" y="342" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="156" y="385" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0b8kgrt_di" bpmnElement="Gateway_0b8kgrt" isMarkerVisible="true">
        <dc:Bounds x="305" y="285" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15hyfoa_di" bpmnElement="Task_LoadCustomerMasterData">
        <dc:Bounds x="480" y="270" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0mwer7n_di" bpmnElement="Gateway_0mwer7n" isMarkerVisible="true">
        <dc:Bounds x="385" y="285" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="384" y="246" width="52" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1nojswc_di" bpmnElement="Flow_1nojswc">
        <di:waypoint x="920" y="310" />
        <di:waypoint x="1010" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xnx5gq_di" bpmnElement="Flow_0xnx5gq">
        <di:waypoint x="1110" y="310" />
        <di:waypoint x="1175" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g2kbqn_di" bpmnElement="Flow_0g2kbqn">
        <di:waypoint x="1200" y="335" />
        <di:waypoint x="1200" y="370" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1208" y="342" width="44" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19tm0v8_di" bpmnElement="Flow_19tm0v8">
        <di:waypoint x="1225" y="310" />
        <di:waypoint x="1302" y="310" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1241" y="292" width="45" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1w8zj7s_di" bpmnElement="Flow_1w8zj7s">
        <di:waypoint x="1250" y="410" />
        <di:waypoint x="1302" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17hp3tr_di" bpmnElement="Flow_17hp3tr">
        <di:waypoint x="218" y="180" />
        <di:waypoint x="330" y="180" />
        <di:waypoint x="330" y="285" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04dj9kf_di" bpmnElement="Flow_04dj9kf">
        <di:waypoint x="218" y="460" />
        <di:waypoint x="330" y="460" />
        <di:waypoint x="330" y="335" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i0kcwv_di" bpmnElement="Flow_1i0kcwv">
        <di:waypoint x="218" y="260" />
        <di:waypoint x="330" y="260" />
        <di:waypoint x="330" y="285" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18e2jyj_di" bpmnElement="Flow_18e2jyj">
        <di:waypoint x="218" y="360" />
        <di:waypoint x="330" y="360" />
        <di:waypoint x="330" y="335" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mprn5y_di" bpmnElement="Flow_1mprn5y">
        <di:waypoint x="355" y="310" />
        <di:waypoint x="385" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fv4284_di" bpmnElement="Flow_0fv4284">
        <di:waypoint x="580" y="310" />
        <di:waypoint x="630" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hmpbzz_di" bpmnElement="Flow_1hmpbzz">
        <di:waypoint x="435" y="310" />
        <di:waypoint x="480" y="310" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="449" y="292" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09odqrt_di" bpmnElement="Flow_09odqrt">
        <di:waypoint x="410" y="335" />
        <di:waypoint x="410" y="390" />
        <di:waypoint x="630" y="390" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="423" y="353" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
